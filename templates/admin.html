<!-- Section √† ajouter dans admin.html -->

<div class="form-section">
    <h2>üèÜ Gestion du podium final</h2>
    
    <form method="post" action="/admin/podium" id="podiumForm">
        <!-- S√©lection de la saison -->
        <div class="form-group">
            <label for="saison_podium">Saison :</label>
            <select name="saison_podium" id="saison_podium" class="form-control" required>
                <option value="2022-2023">2022-2023 (Vanier)</option>
                <option value="2023-2024">2023-2024 (Vanier)</option>
                <option value="2024-2025" selected>2024-2025 (Beauport)</option>
                <option value="2025-2026">2025-2026 (Beauport)</option>
            </select>
        </div>
        
        <!-- Statut de la saison -->
        <div class="form-group">
            <label for="statut_saison">Statut de la saison :</label>
            <select name="statut_saison" id="statut_saison" class="form-control" required>
                <option value="en_cours">Saison en cours</option>
                <option value="terminee" selected>Saison termin√©e</option>
                <option value="playoffs">Playoffs en cours</option>
            </select>
        </div>
        
        <!-- Champion (1√®re place) -->
        <div class="podium-section">
            <h3>üëë Champion (1√®re place)</h3>
            <div class="form-group">
                <label for="champion_nom">Nom du joueur :</label>
                <input type="text" name="champion_nom" id="champion_nom" class="form-control" 
                       placeholder="Ex: Hugo Ferland" value="Hugo Ferland">
            </div>
            <div class="form-row">
                <div class="form-group" style="flex: 1; margin-right: 1rem;">
                    <label for="champion_buts">Buts :</label>
                    <input type="number" name="champion_buts" id="champion_buts" class="form-control" 
                           min="0" value="15">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label for="champion_passes">Passes :</label>
                    <input type="number" name="champion_passes" id="champion_passes" class="form-control" 
                           min="0" value="3">
                </div>
            </div>
        </div>
        
        <!-- 2√®me place -->
        <div class="podium-section">
            <h3>ü•à 2√®me place</h3>
            <div class="form-group">
                <label for="second_nom">Nom du joueur :</label>
                <input type="text" name="second_nom" id="second_nom" class="form-control" 
                       placeholder="Ex: Simon Djcooleur Tremblay" value="Simon Djcooleur Tremblay">
            </div>
            <div class="form-row">
                <div class="form-group" style="flex: 1; margin-right: 1rem;">
                    <label for="second_buts">Buts :</label>
                    <input type="number" name="second_buts" id="second_buts" class="form-control" 
                           min="0" value="4">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label for="second_passes">Passes :</label>
                    <input type="number" name="second_passes" id="second_passes" class="form-control" 
                           min="0" value="8">
                </div>
            </div>
        </div>
        
        <!-- 3√®me place -->
        <div class="podium-section">
            <h3>ü•â 3√®me place</h3>
            <div class="form-group">
                <label for="third_nom">Nom du joueur :</label>
                <input type="text" name="third_nom" id="third_nom" class="form-control" 
                       placeholder="Ex: David R√©millard" value="David R√©millard">
            </div>
            <div class="form-row">
                <div class="form-group" style="flex: 1; margin-right: 1rem;">
                    <label for="third_buts">Buts :</label>
                    <input type="number" name="third_buts" id="third_buts" class="form-control" 
                           min="0" value="3">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label for="third_passes">Passes :</label>
                    <input type="number" name="third_passes" id="third_passes" class="form-control" 
                           min="0" value="7">
                </div>
            </div>
        </div>
        
        <!-- Options d'affichage -->
        <div class="form-group">
            <label>
                <input type="checkbox" name="afficher_podium" checked> 
                Afficher le podium sur la page d'accueil
            </label>
        </div>
        
        <div class="form-group">
            <label for="message_podium">Message personnalis√© (optionnel) :</label>
            <textarea name="message_podium" id="message_podium" class="form-control" rows="2" 
                      placeholder="Ex: F√©licitations aux gagnants de cette excellente saison!"></textarea>
        </div>
        
        <button type="submit" class="btn" style="background: linear-gradient(135deg, #ffd700, #ffed4e); color: #333;">
            üèÜ Sauvegarder le podium final
        </button>
        
        <button type="button" class="btn" onclick="previewPodium()" style="margin-left: 1rem;">
            üëÅÔ∏è Aper√ßu
        </button>
    </form>
</div>

<style>
.podium-section {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 1.5rem;
    margin: 1rem 0;
    border-left: 4px solid #ffd700;
}

.podium-section h3 {
    margin-top: 0;
    color: #003366;
    font-size: 1.2rem;
}

.form-row {
    display: flex;
    gap: 1rem;
    align-items: end;
}

.form-group {
    margin-bottom: 1rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #003366;
}

.form-control {
    width: 100%;
    padding: 0.8rem;
    border: 2px solid #e9ecef;
    border-radius: 5px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

.form-control:focus {
    outline: none;
    border-color: #003366;
}

input[type="checkbox"] {
    margin-right: 0.5rem;
}
</style>

<script>
function previewPodium() {
    const saison = document.getElementById('saison_podium').value;
    const statut = document.getElementById('statut_saison').value;
    
    const champion = {
        nom: document.getElementById('champion_nom').value,
        buts: document.getElementById('champion_buts').value,
        passes: document.getElementById('champion_passes').value
    };
    
    const second = {
        nom: document.getElementById('second_nom').value,
        buts: document.getElementById('second_buts').value,
        passes: document.getElementById('second_passes').value
    };
    
    const third = {
        nom: document.getElementById('third_nom').value,
        buts: document.getElementById('third_buts').value,
        passes: document.getElementById('third_passes').value
    };
    
    const statutText = statut === 'terminee' ? 'SAISON TERMIN√âE' : 
                      statut === 'playoffs' ? 'PLAYOFFS EN COURS' : 'SAISON EN COURS';
    
    const preview = `
üèÜ APER√áU DU PODIUM ${saison}
Status: ${statutText}

üëë Champion: ${champion.nom}
   ${parseInt(champion.buts) + parseInt(champion.passes)} points (${champion.buts}B + ${champion.passes}P)

ü•à 2√®me place: ${second.nom}
   ${parseInt(second.buts) + parseInt(second.passes)} points (${second.buts}B + ${second.passes}P)

ü•â 3√®me place: ${third.nom}
   ${parseInt(third.buts) + parseInt(third.passes)} points (${third.buts}B + ${third.passes}P)
    `;
    
    alert(preview);
}

// Auto-calcul des points totaux
document.querySelectorAll('input[type="number"]').forEach(input => {
    input.addEventListener('input', function() {
        const section = this.closest('.podium-section');
        if (section) {
            const butsInput = section.querySelector('input[name$="_buts"]');
            const passesInput = section.querySelector('input[name$="_passes"]');
            
            if (butsInput && passesInput) {
                const total = parseInt(butsInput.value || 0) + parseInt(passesInput.value || 0);
                // Optionnel: afficher le total quelque part
            }
        }
    });
});
</script>